<!DOCTYPE html>
<html lang="en-US">
 <head>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>
  <title>Searching the 'What is Chandra doing now?' site</title>
  <link href="/css/main.css" type="text/css" rel="stylesheet" title="Default"
        media="all">
  <script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
  <script src="https://code.jquery.com/ui/1.11.4/jquery-ui.min.js"></script>
  <link rel="stylesheet" href="https://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
 </head>
 <body>
  <nav role="navigation">
   <ul>
    <li><a id='home'  href="/index.html">What is Chandra doing now?</a></li>
    <li><a id='sched' href="/schedule/index.html">Schedule</a></li>
    <li><a id='expl'  class='chosen' href="/search/index.html">Explore</a></li>
    <li><a id='about' href="/about/index.html">About</a></li>
    <li><a id='insts' href="/about/instruments.html">Instruments</a></li>
    <li><a id='views' href="/about/views.html">Views</a></li>
   </ul>
  </nav>

  <div class="explanation">
    Here are some ways to explore the observations by Chandra:
  </div>

  <ul>
    <li><a href="/search/instrument/">by instrument</a>,</li>
    <li>by viewing the
      <a href="/search/dtype">full SIMBAD object hierarchy</a>
      or 
      <a href="/search/type">treating them individually</a>,
    </li>
    <li><a href="/search/constellation/">by constellation</a>,</li>
    <li><a href="/search/category/">by proposal category</a>,</li>
    <li>and <a href="/search/calendar/">a calendar view</a>, which
      is rather new and <em>very</em> experimental.
    </li>
  </ul>

  <div>
    <form action="/search/name" method="get">
      <label for="namesearch">
        You can also try searching by target name:
        (this is rather experimental!)
      </label>
      <input type="text" autocomplete="off" id="namesearch" name="target" />
      <p>
        Note that there is an issue with spaces - ideally the names
        would be normalized (or the search would be), but at present
        they are not, so <tt>NGC   404</tt>, <tt>NGC 404</tt>, and
        <tt>NGC404</tt> are different.
    </form>
  </div>

  <script>
    // from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent
function fixedEncodeURIComponent (str) {
  return encodeURIComponent(str).replace(/[!'()*]/g, function(c) {
    return '%' + c.charCodeAt(0).toString(16);
  });
}
    
    $("#namesearch").autocomplete({
    minLength: 3,
    source: '/api/search/name',
    close: function(event,ui) {
    // skip if the event has been cancelled; for now only support
    // event=Enter, as not sure what the event types can be, but
    // this may need to be changed (e.g. touch screens).
    //
    if (event.key == "Enter") {
      var term = event.target.value;
      // argh; hard-coding path
      window.location = "/search/name?target=" + fixedEncodeURIComponent(term);
      }
    }
    });
  </script>
  
  <p id="banner">
    The 'What is Chandra doing now?' web site is written
    by <a href="http://twitter.com/doug_burke">@doug_burke</a>,
    comes with no warranty (in other words, I make no
    guarantee that the information presented is correct, although
    I try my best to make sure it is), and is not
    an official product of the 
    <a href="http://chandra.si.edu/">Chandra X-ray Center</a>.
  </p>
 </body>
</html>
